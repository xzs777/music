{"remainingRequest":"C:\\Users\\74031\\Desktop\\新建文件夹 (4)\\vue_music-master\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\74031\\Desktop\\新建文件夹 (4)\\vue_music-master\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\74031\\Desktop\\新建文件夹 (4)\\vue_music-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\74031\\Desktop\\新建文件夹 (4)\\vue_music-master\\src\\components\\common\\Navheader.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\74031\\Desktop\\新建文件夹 (4)\\vue_music-master\\src\\components\\common\\Navheader.vue","mtime":1603970005773},{"path":"C:\\Users\\74031\\Desktop\\新建文件夹 (4)\\vue_music-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\74031\\Desktop\\新建文件夹 (4)\\vue_music-master\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\74031\\Desktop\\新建文件夹 (4)\\vue_music-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\74031\\Desktop\\新建文件夹 (4)\\vue_music-master\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmRleC1vZiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pbmNsdWRlcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy50cmltIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQzovVXNlcnMvNzQwMzEvRGVza3RvcC9cdTY1QjBcdTVFRkFcdTY1ODdcdTRFRjZcdTU5MzkgKDQpL3Z1ZV9tdXNpYy1tYXN0ZXIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwpleHBvcnQgZGVmYXVsdCB7CiAgcHJvcHM6IHsKICAgIHJldHVybkxpbms6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAnL211c2ljJywKICAgICAgcmVxdWlyZWQ6IGZhbHNlCiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc2VhcmNoVmFsdWU6ICcnLAogICAgICBzZWFyY2hPcGVuY2xvc2U6IGZhbHNlLAogICAgICBzZWFyY2hIb3RzOiBbXSwKICAgICAgaGlzdG9yeVRhZ3M6IFtdCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgc2VhcmNoRXZlbnQ6IGZ1bmN0aW9uIHNlYXJjaEV2ZW50KCkgewogICAgICBpZiAodGhpcy5zZWFyY2hWYWx1ZS50cmltKCkubGVuZ3RoID09PSAwKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+i+k+WFpeaQnOe0ouWGheWuueS4uuepuu+8gScpOwogICAgICB9CgogICAgICB3aW5kb3cuc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgnc2VhcmNoVmFsdWUnLCB0aGlzLnNlYXJjaFZhbHVlLnRyaW0oKSk7CiAgICAgIHZhciBoaXN0b3J5ID0gd2luZG93LnNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ3NlYXJjaEhpc3RvcnknKTsKICAgICAgdmFyIGFyciA9IGhpc3RvcnkgPT09IG51bGwgPyBbXSA6IEpTT04ucGFyc2UoaGlzdG9yeSk7CgogICAgICBpZiAoIWFyci5pbmNsdWRlcyh0aGlzLnNlYXJjaFZhbHVlLnRyaW0oKSkpIHsKICAgICAgICBpZiAoYXJyLmxlbmd0aCA8IDEwKSB7CiAgICAgICAgICBhcnIudW5zaGlmdCh0aGlzLnNlYXJjaFZhbHVlLnRyaW0oKSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGFyci5zcGxpY2UoOSwgMSk7CiAgICAgICAgICBhcnIudW5zaGlmdCh0aGlzLnNlYXJjaFZhbHVlLnRyaW0oKSk7CiAgICAgICAgfQogICAgICB9CgogICAgICB3aW5kb3cuc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgnc2VhcmNoSGlzdG9yeScsIEpTT04uc3RyaW5naWZ5KGFycikpOwogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnc2VhcmNobGlzdCcpOwogICAgfSwKICAgIHNlYXJjaEd1aWRlOiBmdW5jdGlvbiBzZWFyY2hHdWlkZShlbCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgX3lpZWxkJF90aGlzJCRyZXF1ZXN0LCByZXMsIGhpc3RvcnksIGFyciwgZ3VpZGVCb3g7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzLiRzdG9yZS5zdGF0ZS5jb250cm9sTXNjLnNob3dMaXN0ID0gZmFsc2U7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy4kcmVxdWVzdC5nZXQoJy9zZWFyY2gvaG90Jyk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIF95aWVsZCRfdGhpcyQkcmVxdWVzdCA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICByZXMgPSBfeWllbGQkX3RoaXMkJHJlcXVlc3QuZGF0YTsKICAgICAgICAgICAgICAgIF90aGlzLnNlYXJjaEhvdHMgPSByZXMucmVzdWx0LmhvdHM7CiAgICAgICAgICAgICAgICBoaXN0b3J5ID0gd2luZG93LnNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ3NlYXJjaEhpc3RvcnknKTsKICAgICAgICAgICAgICAgIGFyciA9IGhpc3RvcnkgPT09IG51bGwgPyBbXSA6IEpTT04ucGFyc2UoaGlzdG9yeSk7CiAgICAgICAgICAgICAgICBfdGhpcy5oaXN0b3J5VGFncyA9IGFycjsKICAgICAgICAgICAgICAgIF90aGlzLnNlYXJjaE9wZW5jbG9zZSA9IHRydWU7CiAgICAgICAgICAgICAgICBndWlkZUJveCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zZWFyY2gtZ3VpZGUnKTsKCiAgICAgICAgICAgICAgICB3aW5kb3cub25jbGljayA9IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgICAgIGlmICghZ3VpZGVCb3guY29udGFpbnMoZS50YXJnZXQpICYmICFlbC50YXJnZXQuY29udGFpbnMoZS50YXJnZXQpKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMuc2VhcmNoT3BlbmNsb3NlID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgd2luZG93Lm9uY2xpY2sgPSBudWxsOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGhvdFRhZ0V2ZW50OiBmdW5jdGlvbiBob3RUYWdFdmVudChlKSB7CiAgICAgIHRoaXMuc2VhcmNoVmFsdWUgPSBlLnRhcmdldC5pbm5lclRleHQudHJpbSgpOwogICAgICB0aGlzLnNlYXJjaEV2ZW50KCk7CiAgICB9LAogICAgaGlzdG9yeVRhZ0Nsb3NlOiBmdW5jdGlvbiBoaXN0b3J5VGFnQ2xvc2UodGFnKSB7CiAgICAgIHRoaXMuaGlzdG9yeVRhZ3Muc3BsaWNlKHRoaXMuaGlzdG9yeVRhZ3MuaW5kZXhPZih0YWcpLCAxKTsKICAgICAgd2luZG93LnNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ3NlYXJjaEhpc3RvcnknLCBKU09OLnN0cmluZ2lmeSh0aGlzLmhpc3RvcnlUYWdzKSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["Navheader.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div>\n    <div class=\"main-header\">\n      <i class=\"el-icon-arrow-left\" @click=\"$router.push(returnLink)\"></i>\n      <slot></slot>\n      <div class=\"search\">\n        <input type=\"text\" class=\"input-search\" v-model=\"searchValue\" @keyup.enter=\"searchEvent\" @focus=\"searchGuide\" />\n        <i class=\"el-icon-search\" @click=\"searchEvent\"></i>\n      </div>\n    </div>\n    <div class=\"search-guide\" v-show=\"searchOpenclose\">\n      <div class=\"guide-box\">\n        <div class=\"guide-box-tt\">热门搜索</div>\n        <div class=\"hot-tags\">\n          <el-tag effect=\"plain\" type=\"info\" v-for=\"(item, i) in searchHots\" :key=\"i\" @click=\"hotTagEvent\">\n            {{item.first}}</el-tag>\n        </div>\n        <div class=\"guide-box-tt\">历史搜索</div>\n        <div class=\"hot-tags\">\n          <el-tag effect=\"plain\" type=\"info\" v-for=\"(item, i) in historyTags\" :key=\"i\" @click=\"hotTagEvent\"\n            :closable=\"true\" @close=\"historyTagClose(item)\">{{item}}</el-tag>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n  export default {\n    props: {\n      returnLink: {\n        type: String,\n        default: '/music',\n        required: false\n      }\n    },\n    data() {\n      return {\n        searchValue: '',\n        searchOpenclose: false,\n        searchHots: [],\n        historyTags: []\n      }\n    },\n    methods: {\n      searchEvent() {\n        if (this.searchValue.trim().length === 0) {\n          return this.$message.error('输入搜索内容为空！')\n        }\n        window.sessionStorage.setItem('searchValue', this.searchValue.trim())\n        const history = window.sessionStorage.getItem('searchHistory')\n        var arr = history === null ? [] : JSON.parse(history)\n        if (!arr.includes(this.searchValue.trim())) {\n          if (arr.length < 10) {\n            arr.unshift(this.searchValue.trim())\n          } else {\n            arr.splice(9, 1)\n            arr.unshift(this.searchValue.trim())\n          }\n        }\n        window.sessionStorage.setItem('searchHistory', JSON.stringify(arr))\n        this.$router.push('searchlist')\n      },\n      async searchGuide(el) {\n        this.$store.state.controlMsc.showList = false\n        const { data: res } = await this.$request.get('/search/hot')\n        this.searchHots = res.result.hots\n        const history = window.sessionStorage.getItem('searchHistory')\n        var arr = history === null ? [] : JSON.parse(history)\n        this.historyTags = arr\n        this.searchOpenclose = true\n        const guideBox = document.querySelector('.search-guide')\n        window.onclick = e => {\n          if (!guideBox.contains(e.target) && !el.target.contains(e.target)) {\n            this.searchOpenclose = false\n            window.onclick = null\n          }\n        }\n      },\n      hotTagEvent(e) {\n        this.searchValue = e.target.innerText.trim()\n        this.searchEvent()\n      },\n      historyTagClose(tag) {\n        this.historyTags.splice(this.historyTags.indexOf(tag), 1)\n        window.sessionStorage.setItem(\n          'searchHistory',\n          JSON.stringify(this.historyTags)\n        )\n      }\n    }\n  }\n</script>\n<style lang=\"less\" scoped>\n  .search-guide {\n    height: 494px;\n    width: 340px;\n    background: #fff;\n    position: absolute;\n    z-index: 999;\n    top: 40px;\n    right: 0;\n    box-shadow: -6px 6px 6px rgba(0, 0, 0, 0.25);\n  }\n\n  .guide-box {\n    box-sizing: border-box;\n    padding: 8px 15px;\n  }\n\n  .guide-box-tt {\n    height: 40px;\n    line-height: 40px;\n    font-size: 14px;\n    color: rgba(0, 0, 0, 0.6);\n  }\n\n  .hot-tags .el-tag {\n    border-radius: 15px;\n    padding: 0 12px;\n    height: 26px;\n    line-height: 26px;\n    cursor: pointer;\n    margin-right: 10px;\n    margin-bottom: 8px;\n  }\n\n  .hot-tags .el-tag:hover {\n    background: #f1f1f1;\n  }\n</style>"],"sourceRoot":"src/components/common"}]}
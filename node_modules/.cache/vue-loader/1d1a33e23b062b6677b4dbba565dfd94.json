{"remainingRequest":"C:\\Users\\74031\\Desktop\\新建文件夹 (4)\\music-main\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\74031\\Desktop\\新建文件夹 (4)\\music-main\\src\\components\\list\\Ranking.vue?vue&type=style&index=0&id=57a2c935&lang=less&scoped=true&","dependencies":[{"path":"C:\\Users\\74031\\Desktop\\新建文件夹 (4)\\music-main\\src\\components\\list\\Ranking.vue","mtime":1593438612000},{"path":"C:\\Users\\74031\\Desktop\\新建文件夹 (4)\\music-main\\node_modules\\css-loader\\dist\\cjs.js","mtime":1605024328000},{"path":"C:\\Users\\74031\\Desktop\\新建文件夹 (4)\\music-main\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1605024328000},{"path":"C:\\Users\\74031\\Desktop\\新建文件夹 (4)\\music-main\\node_modules\\postcss-loader\\src\\index.js","mtime":1605024328000},{"path":"C:\\Users\\74031\\Desktop\\新建文件夹 (4)\\music-main\\node_modules\\less-loader\\dist\\cjs.js","mtime":1605024328000},{"path":"C:\\Users\\74031\\Desktop\\新建文件夹 (4)\\music-main\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1605024328000},{"path":"C:\\Users\\74031\\Desktop\\新建文件夹 (4)\\music-main\\node_modules\\vue-loader\\lib\\index.js","mtime":1605024328000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLmJveC10aXRsZSB7CiAgbWFyZ2luLXRvcDogMjBweDsKICBmb250LXdlaWdodDogNjAwOwogIGNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuOCk7CiAgdGV4dC1pbmRlbnQ6IDMwcHg7Cn0KLmJveCB7CiAgaGVpZ2h0OiAxOTBweDsKICB3aWR0aDogOTglOwogIG1hcmdpbjogMCBhdXRvOwogIGRpc3BsYXk6IGZsZXg7CiAgLmxlZnQgewogICAgbWF4LXdpZHRoOiAxOTBweDsKICAgIG1pbi13aWR0aDogMTkwcHg7CiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKICAgIGZsZXg6IDE7CiAgICBkaXNwbGF5OiBmbGV4OwogICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgIGN1cnNvcjogcG9pbnRlcjsKICAgIC5sZWZ0LWJveCB7CiAgICAgIGhlaWdodDogMTQwcHg7CiAgICAgIHdpZHRoOiAxNDBweDsKICAgICAgYm9yZGVyLXJhZGl1czogNHB4OwogICAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgICBkaXNwbGF5OiBmbGV4OwogICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsKICAgICAgYmFja2dyb3VuZC1zaXplOiAxMDAlIDEwMCU7CiAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsKICAgICAgaSB7CiAgICAgICAgZm9udC1zdHlsZTogbm9ybWFsOwogICAgICAgIGZvbnQtc2l6ZTogMTJweDsKICAgICAgICBjb2xvcjogI2ZmZjsKICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICAgICAgYm90dG9tOiAyNXB4OwogICAgICB9CiAgICB9CiAgfQogIC5yaWdodCB7CiAgICBmbGV4OiAxOwogICAgZGlzcGxheTogZmxleDsKICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOwogICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgLnJpZ2h0LXRhYmxlIHsKICAgICAgbWFyZ2luLXRvcDogMjBweDsKICAgICAgd2lkdGg6IDEwMCU7CiAgICAgIGhlaWdodDogMTUwcHg7CiAgICB9CiAgICAucmlnaHQtdGFibGU6OmJlZm9yZSB7CiAgICAgIHdpZHRoOiAwICFpbXBvcnRhbnQ7CiAgICB9CiAgICAucmlnaHQtbW9yZSB7CiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgICAgYm90dG9tOiAtNXB4OwogICAgICBsZWZ0OiAwOwogICAgICBmb250LXNpemU6IDEycHg7CiAgICAgIGNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuNyk7CiAgICAgIGhlaWdodDogMzJweDsKICAgICAgbGluZS1oZWlnaHQ6IDMycHg7CiAgICAgIGN1cnNvcjogcG9pbnRlcjsKICAgICAgaSB7CiAgICAgICAgbWFyZ2luLWxlZnQ6IDVweDsKICAgICAgfQogICAgfQogICAgLnJpZ2h0LW1vcmU6aG92ZXIgewogICAgICB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTsKICAgIH0KICB9Cn0K"},{"version":3,"sources":["Ranking.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Ranking.vue","sourceRoot":"src/components/list","sourcesContent":["<template>\n  <div>\n    <div class=\"box-title\">排行榜</div>\n    <div class=\"box\" v-for=\"(item,i) in ranklist\" :key=\"i\">\n      <div class=\"left\">\n        <div class=\"left-box\" :style=\"{backgroundImage:'url('+item.img+')'}\">\n          <i>{{item.time|dataFormatMD}}</i>\n        </div>\n      </div>\n      <div class=\"right\">\n        <el-table\n          :data=\"item.musiclist\"\n          stripe\n          class=\"right-table\"\n          :show-header=\"false\"\n          size=\"mini\"\n          @row-click=\"getMusicUrl\"\n        >\n          <el-table-column type=\"index\"></el-table-column>\n          <el-table-column prop=\"name\"></el-table-column>\n          <el-table-column prop=\"author\" width=\"180\"></el-table-column>\n        </el-table>\n        <div class=\"right-more\" @click=\"linkList(item.id)\">\n          查看全部\n          <i class=\"el-icon-arrow-right\"></i>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      ranklist: []\n    }\n  },\n  methods: {\n    // 获取排行榜分类、和歌曲\n    async getRankList() {\n      const { data: res1 } = await this.$request.get(`top/list?id=${19723756}`)\n      const { data: res2 } = await this.$request.get(`top/list?id=${3779629}`)\n      const { data: res3 } = await this.$request.get(`top/list?id=${2884035}`)\n      const { data: res4 } = await this.$request.get(`top/list?id=${3778678}`)\n      const { data: res5 } = await this.$request.get(`top/list?id=${991319590}`)\n      this.dealRankMsg(res1.playlist)\n      this.dealRankMsg(res2.playlist)\n      this.dealRankMsg(res3.playlist)\n      this.dealRankMsg(res4.playlist)\n      this.dealRankMsg(res5.playlist)\n    },\n    // 获取排行榜歌曲\n    dealRankMsg(item) {\n      const obj = {}\n      obj.name = item.name\n      obj.id = item.id\n      obj.img = item.coverImgUrl\n      obj.musiclist = []\n      item.tracks.slice(0, 5).forEach(item => {\n        const mobj = {}\n        mobj.name = item.name\n        mobj.id = item.id\n        mobj.pic = item.al.picUrl\n        mobj.author = ''\n        item.ar.forEach(i => {\n          mobj.author += i.name + ' '\n        })\n        obj.musiclist.push(mobj)\n      })\n      obj.time = item.updateTime\n      this.ranklist.push(obj)\n    },\n    // 跳转排行榜分类列表\n    linkList(id) {\n      window.sessionStorage.setItem('rankListId', id)\n      this.$router.push('rankplaylist')\n    },\n    // 获取歌曲地址\n    async getMusicUrl(obj) {\n      const { data: res } = await this.$request.get(`/song/url?id=${obj.id}`)\n      let music = {}\n      music = {\n        title: obj.name,\n        artist: obj.author,\n        src: res.data[0].url,\n        pic: obj.pic,\n        id: obj.id\n      }\n      window.sessionStorage.setItem('nowMusic', JSON.stringify(music))\n      this.$store.dispatch('dealAutoPlay', music)\n    }\n  },\n  mounted() {\n    this.getRankList()\n  }\n}\n</script>\n<style lang=\"less\" scoped>\n.box-title {\n  margin-top: 20px;\n  font-weight: 600;\n  color: rgba(0, 0, 0, 0.8);\n  text-indent: 30px;\n}\n.box {\n  height: 190px;\n  width: 98%;\n  margin: 0 auto;\n  display: flex;\n  .left {\n    max-width: 190px;\n    min-width: 190px;\n    justify-content: center;\n    flex: 1;\n    display: flex;\n    align-items: center;\n    cursor: pointer;\n    .left-box {\n      height: 140px;\n      width: 140px;\n      border-radius: 4px;\n      align-items: center;\n      display: flex;\n      justify-content: center;\n      flex-direction: column;\n      background-size: 100% 100%;\n      position: relative;\n      i {\n        font-style: normal;\n        font-size: 12px;\n        color: #fff;\n        position: absolute;\n        bottom: 25px;\n      }\n    }\n  }\n  .right {\n    flex: 1;\n    display: flex;\n    align-items: center;\n    flex-direction: column;\n    position: relative;\n    .right-table {\n      margin-top: 20px;\n      width: 100%;\n      height: 150px;\n    }\n    .right-table::before {\n      width: 0 !important;\n    }\n    .right-more {\n      position: absolute;\n      bottom: -5px;\n      left: 0;\n      font-size: 12px;\n      color: rgba(0, 0, 0, 0.7);\n      height: 32px;\n      line-height: 32px;\n      cursor: pointer;\n      i {\n        margin-left: 5px;\n      }\n    }\n    .right-more:hover {\n      text-decoration: underline;\n    }\n  }\n}\n</style>\n"]}]}
{"remainingRequest":"C:\\Users\\74031\\Desktop\\新建文件夹 (4)\\vue_music-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\74031\\Desktop\\新建文件夹 (4)\\vue_music-master\\src\\components\\list\\Ranking.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\74031\\Desktop\\新建文件夹 (4)\\vue_music-master\\src\\components\\list\\Ranking.vue","mtime":1593438612000},{"path":"C:\\Users\\74031\\Desktop\\新建文件夹 (4)\\vue_music-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\74031\\Desktop\\新建文件夹 (4)\\vue_music-master\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\74031\\Desktop\\新建文件夹 (4)\\vue_music-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\74031\\Desktop\\新建文件夹 (4)\\vue_music-master\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcmFua2xpc3Q6IFtdCiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyDojrflj5bmjpLooYzmppzliIbnsbvjgIHlkozmrYzmm7IKICAgIGFzeW5jIGdldFJhbmtMaXN0KCkgewogICAgICBjb25zdCB7IGRhdGE6IHJlczEgfSA9IGF3YWl0IHRoaXMuJHJlcXVlc3QuZ2V0KGB0b3AvbGlzdD9pZD0kezE5NzIzNzU2fWApCiAgICAgIGNvbnN0IHsgZGF0YTogcmVzMiB9ID0gYXdhaXQgdGhpcy4kcmVxdWVzdC5nZXQoYHRvcC9saXN0P2lkPSR7Mzc3OTYyOX1gKQogICAgICBjb25zdCB7IGRhdGE6IHJlczMgfSA9IGF3YWl0IHRoaXMuJHJlcXVlc3QuZ2V0KGB0b3AvbGlzdD9pZD0kezI4ODQwMzV9YCkKICAgICAgY29uc3QgeyBkYXRhOiByZXM0IH0gPSBhd2FpdCB0aGlzLiRyZXF1ZXN0LmdldChgdG9wL2xpc3Q/aWQ9JHszNzc4Njc4fWApCiAgICAgIGNvbnN0IHsgZGF0YTogcmVzNSB9ID0gYXdhaXQgdGhpcy4kcmVxdWVzdC5nZXQoYHRvcC9saXN0P2lkPSR7OTkxMzE5NTkwfWApCiAgICAgIHRoaXMuZGVhbFJhbmtNc2cocmVzMS5wbGF5bGlzdCkKICAgICAgdGhpcy5kZWFsUmFua01zZyhyZXMyLnBsYXlsaXN0KQogICAgICB0aGlzLmRlYWxSYW5rTXNnKHJlczMucGxheWxpc3QpCiAgICAgIHRoaXMuZGVhbFJhbmtNc2cocmVzNC5wbGF5bGlzdCkKICAgICAgdGhpcy5kZWFsUmFua01zZyhyZXM1LnBsYXlsaXN0KQogICAgfSwKICAgIC8vIOiOt+WPluaOkuihjOamnOatjOabsgogICAgZGVhbFJhbmtNc2coaXRlbSkgewogICAgICBjb25zdCBvYmogPSB7fQogICAgICBvYmoubmFtZSA9IGl0ZW0ubmFtZQogICAgICBvYmouaWQgPSBpdGVtLmlkCiAgICAgIG9iai5pbWcgPSBpdGVtLmNvdmVySW1nVXJsCiAgICAgIG9iai5tdXNpY2xpc3QgPSBbXQogICAgICBpdGVtLnRyYWNrcy5zbGljZSgwLCA1KS5mb3JFYWNoKGl0ZW0gPT4gewogICAgICAgIGNvbnN0IG1vYmogPSB7fQogICAgICAgIG1vYmoubmFtZSA9IGl0ZW0ubmFtZQogICAgICAgIG1vYmouaWQgPSBpdGVtLmlkCiAgICAgICAgbW9iai5waWMgPSBpdGVtLmFsLnBpY1VybAogICAgICAgIG1vYmouYXV0aG9yID0gJycKICAgICAgICBpdGVtLmFyLmZvckVhY2goaSA9PiB7CiAgICAgICAgICBtb2JqLmF1dGhvciArPSBpLm5hbWUgKyAnICcKICAgICAgICB9KQogICAgICAgIG9iai5tdXNpY2xpc3QucHVzaChtb2JqKQogICAgICB9KQogICAgICBvYmoudGltZSA9IGl0ZW0udXBkYXRlVGltZQogICAgICB0aGlzLnJhbmtsaXN0LnB1c2gob2JqKQogICAgfSwKICAgIC8vIOi3s+i9rOaOkuihjOamnOWIhuexu+WIl+ihqAogICAgbGlua0xpc3QoaWQpIHsKICAgICAgd2luZG93LnNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ3JhbmtMaXN0SWQnLCBpZCkKICAgICAgdGhpcy4kcm91dGVyLnB1c2goJ3JhbmtwbGF5bGlzdCcpCiAgICB9LAogICAgLy8g6I635Y+W5q2M5puy5Zyw5Z2ACiAgICBhc3luYyBnZXRNdXNpY1VybChvYmopIHsKICAgICAgY29uc3QgeyBkYXRhOiByZXMgfSA9IGF3YWl0IHRoaXMuJHJlcXVlc3QuZ2V0KGAvc29uZy91cmw/aWQ9JHtvYmouaWR9YCkKICAgICAgbGV0IG11c2ljID0ge30KICAgICAgbXVzaWMgPSB7CiAgICAgICAgdGl0bGU6IG9iai5uYW1lLAogICAgICAgIGFydGlzdDogb2JqLmF1dGhvciwKICAgICAgICBzcmM6IHJlcy5kYXRhWzBdLnVybCwKICAgICAgICBwaWM6IG9iai5waWMsCiAgICAgICAgaWQ6IG9iai5pZAogICAgICB9CiAgICAgIHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCdub3dNdXNpYycsIEpTT04uc3RyaW5naWZ5KG11c2ljKSkKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2RlYWxBdXRvUGxheScsIG11c2ljKQogICAgfQogIH0sCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuZ2V0UmFua0xpc3QoKQogIH0KfQo="},{"version":3,"sources":["Ranking.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Ranking.vue","sourceRoot":"src/components/list","sourcesContent":["<template>\n  <div>\n    <div class=\"box-title\">排行榜</div>\n    <div class=\"box\" v-for=\"(item,i) in ranklist\" :key=\"i\">\n      <div class=\"left\">\n        <div class=\"left-box\" :style=\"{backgroundImage:'url('+item.img+')'}\">\n          <i>{{item.time|dataFormatMD}}</i>\n        </div>\n      </div>\n      <div class=\"right\">\n        <el-table\n          :data=\"item.musiclist\"\n          stripe\n          class=\"right-table\"\n          :show-header=\"false\"\n          size=\"mini\"\n          @row-click=\"getMusicUrl\"\n        >\n          <el-table-column type=\"index\"></el-table-column>\n          <el-table-column prop=\"name\"></el-table-column>\n          <el-table-column prop=\"author\" width=\"180\"></el-table-column>\n        </el-table>\n        <div class=\"right-more\" @click=\"linkList(item.id)\">\n          查看全部\n          <i class=\"el-icon-arrow-right\"></i>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      ranklist: []\n    }\n  },\n  methods: {\n    // 获取排行榜分类、和歌曲\n    async getRankList() {\n      const { data: res1 } = await this.$request.get(`top/list?id=${19723756}`)\n      const { data: res2 } = await this.$request.get(`top/list?id=${3779629}`)\n      const { data: res3 } = await this.$request.get(`top/list?id=${2884035}`)\n      const { data: res4 } = await this.$request.get(`top/list?id=${3778678}`)\n      const { data: res5 } = await this.$request.get(`top/list?id=${991319590}`)\n      this.dealRankMsg(res1.playlist)\n      this.dealRankMsg(res2.playlist)\n      this.dealRankMsg(res3.playlist)\n      this.dealRankMsg(res4.playlist)\n      this.dealRankMsg(res5.playlist)\n    },\n    // 获取排行榜歌曲\n    dealRankMsg(item) {\n      const obj = {}\n      obj.name = item.name\n      obj.id = item.id\n      obj.img = item.coverImgUrl\n      obj.musiclist = []\n      item.tracks.slice(0, 5).forEach(item => {\n        const mobj = {}\n        mobj.name = item.name\n        mobj.id = item.id\n        mobj.pic = item.al.picUrl\n        mobj.author = ''\n        item.ar.forEach(i => {\n          mobj.author += i.name + ' '\n        })\n        obj.musiclist.push(mobj)\n      })\n      obj.time = item.updateTime\n      this.ranklist.push(obj)\n    },\n    // 跳转排行榜分类列表\n    linkList(id) {\n      window.sessionStorage.setItem('rankListId', id)\n      this.$router.push('rankplaylist')\n    },\n    // 获取歌曲地址\n    async getMusicUrl(obj) {\n      const { data: res } = await this.$request.get(`/song/url?id=${obj.id}`)\n      let music = {}\n      music = {\n        title: obj.name,\n        artist: obj.author,\n        src: res.data[0].url,\n        pic: obj.pic,\n        id: obj.id\n      }\n      window.sessionStorage.setItem('nowMusic', JSON.stringify(music))\n      this.$store.dispatch('dealAutoPlay', music)\n    }\n  },\n  mounted() {\n    this.getRankList()\n  }\n}\n</script>\n<style lang=\"less\" scoped>\n.box-title {\n  margin-top: 20px;\n  font-weight: 600;\n  color: rgba(0, 0, 0, 0.8);\n  text-indent: 30px;\n}\n.box {\n  height: 190px;\n  width: 98%;\n  margin: 0 auto;\n  display: flex;\n  .left {\n    max-width: 190px;\n    min-width: 190px;\n    justify-content: center;\n    flex: 1;\n    display: flex;\n    align-items: center;\n    cursor: pointer;\n    .left-box {\n      height: 140px;\n      width: 140px;\n      border-radius: 4px;\n      align-items: center;\n      display: flex;\n      justify-content: center;\n      flex-direction: column;\n      background-size: 100% 100%;\n      position: relative;\n      i {\n        font-style: normal;\n        font-size: 12px;\n        color: #fff;\n        position: absolute;\n        bottom: 25px;\n      }\n    }\n  }\n  .right {\n    flex: 1;\n    display: flex;\n    align-items: center;\n    flex-direction: column;\n    position: relative;\n    .right-table {\n      margin-top: 20px;\n      width: 100%;\n      height: 150px;\n    }\n    .right-table::before {\n      width: 0 !important;\n    }\n    .right-more {\n      position: absolute;\n      bottom: -5px;\n      left: 0;\n      font-size: 12px;\n      color: rgba(0, 0, 0, 0.7);\n      height: 32px;\n      line-height: 32px;\n      cursor: pointer;\n      i {\n        margin-left: 5px;\n      }\n    }\n    .right-more:hover {\n      text-decoration: underline;\n    }\n  }\n}\n</style>\n"]}]}
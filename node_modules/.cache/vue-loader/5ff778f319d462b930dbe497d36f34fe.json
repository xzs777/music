{"remainingRequest":"C:\\Users\\74031\\Desktop\\新建文件夹 (4)\\vue_music-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\74031\\Desktop\\新建文件夹 (4)\\vue_music-master\\src\\components\\Music.vue?vue&type=style&index=0&id=06073fa5&lang=less&scoped=true&","dependencies":[{"path":"C:\\Users\\74031\\Desktop\\新建文件夹 (4)\\vue_music-master\\src\\components\\Music.vue","mtime":1604730261797},{"path":"C:\\Users\\74031\\Desktop\\新建文件夹 (4)\\vue_music-master\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\74031\\Desktop\\新建文件夹 (4)\\vue_music-master\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\74031\\Desktop\\新建文件夹 (4)\\vue_music-master\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\74031\\Desktop\\新建文件夹 (4)\\vue_music-master\\node_modules\\less-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\74031\\Desktop\\新建文件夹 (4)\\vue_music-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\74031\\Desktop\\新建文件夹 (4)\\vue_music-master\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5hcHBseVNjcm9sbCB7CiAgb3ZlcmZsb3c6IGhpZGRlbiBzY3JvbGw7CiAgaGVpZ2h0OiA0ODBweDsKfQoKLmxlLXRhYi1kZW1vIHsKICB3aWR0aDogMTAwJTsKICBib3gtc2l6aW5nOiBib3JkZXItYm94OwogIGJvcmRlcjogMDsKICBoZWlnaHQ6IDYwMHB4OwogIG92ZXJmbG93OiBoaWRkZW47Cn0KCi5lbC10YWJzX19oZWFkZXIgewogIGJhY2tncm91bmQ6ICNmNGY0ZjQ7Cn0KCi5zZWFyY2ggewogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICB3aWR0aDogMjAwcHg7CiAgcmlnaHQ6IDA7CiAgdG9wOiAwOwogIGhlaWdodDogMzZweDsKfQoKLmVsLWljb24tc2VhcmNoIHsKICBmb250LXNpemU6IDE4cHg7CiAgcG9zaXRpb246IGFic29sdXRlOwogIHJpZ2h0OiAzMHB4OwogIHRvcDogMTBweDsKICBjdXJzb3I6IHBvaW50ZXI7Cn0KCi5pbnB1dC1zZWFyY2ggewogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICByaWdodDogMjBweDsKICB0b3A6IDRweDsKICBib3JkZXItcmFkaXVzOiAyMHB4OwogIGhlaWdodDogMjZweDsKICBib3JkZXI6IDFweCBzb2xpZCAjZjFmMWYxOwogIG91dGxpbmU6IDA7CiAgYmFja2dyb3VuZDogI2VkZWRlZDsKICB0ZXh0LWluZGVudDogMTBweDsKfQoKLmVsLXRhYi1wYW5lIHsKICBwYWRkaW5nOiAwIDEwcHg7Cn0KCi5zZWFyY2gtZ3VpZGUgewogIGhlaWdodDogNDk0cHg7CiAgd2lkdGg6IDM0MHB4OwogIGJhY2tncm91bmQ6ICNmZmY7CiAgcG9zaXRpb246IGFic29sdXRlOwogIHotaW5kZXg6IDk5OTsKICB0b3A6IDQwcHg7CiAgcmlnaHQ6IDA7CiAgYm94LXNoYWRvdzogLTZweCA2cHggNnB4IHJnYmEoMCwgMCwgMCwgMC4yNSk7Cn0KCi5ndWlkZS1ib3ggewogIGJveC1zaXppbmc6IGJvcmRlci1ib3g7CiAgcGFkZGluZzogOHB4IDE1cHg7Cn0KCi5ndWlkZS1ib3gtdHQgewogIGhlaWdodDogNDBweDsKICBsaW5lLWhlaWdodDogNDBweDsKICBmb250LXNpemU6IDE0cHg7CiAgY29sb3I6IHJnYmEoMCwgMCwgMCwgMC42KTsKfQoKLmhvdC10YWdzIC5lbC10YWcgewogIGJvcmRlci1yYWRpdXM6IDE1cHg7CiAgcGFkZGluZzogMCAxMnB4OwogIGhlaWdodDogMjZweDsKICBsaW5lLWhlaWdodDogMjZweDsKICBjdXJzb3I6IHBvaW50ZXI7CiAgbWFyZ2luLXJpZ2h0OiAxMHB4OwogIG1hcmdpbi1ib3R0b206IDhweDsKfQoKLmhvdC10YWdzIC5lbC10YWc6aG92ZXIgewogIGJhY2tncm91bmQ6ICNmMWYxZjE7Cn0K"},{"version":3,"sources":["Music.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkIA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"Music.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div>\n    <el-tabs v-model=\"$store.state.mainIndex\" @tab-click=\"handleClick\" class=\"le-tab-demo\">\n      <!-- <el-tab-pane label=\"个性推荐\" name=\"first\" class=\"applyScroll\">\n        <m-home></m-home>\n      </el-tab-pane>\n      <el-tab-pane label=\"排行榜\" name=\"third\" class=\"applyScroll\">\n        <m-ranklist></m-ranklist>\n      </el-tab-pane> -->\n      <el-tab-pane label=\"最新歌曲\" name=\"fifth\">\n        <div :is=\"NewMusicComponents\"></div>\n      </el-tab-pane>\n      <el-tab-pane label=\"歌手\" name=\"fourth\" style=\"overflow: hidden!important\">\n        <div :is=\"Components\"></div>\n      </el-tab-pane>\n    </el-tabs>\n    <!-- 搜索框 -->\n    <div class=\"search\">\n      <input type=\"text\" class=\"input-search\" @focus=\"searchGuide\" v-model=\"searchValue\" @keyup.enter=\"searchEvent\" />\n      <i class=\"el-icon-search\" @click=\"searchEvent\"></i>\n    </div>\n    <!-- 搜索向导 -->\n    <div class=\"search-guide\" v-show=\"searchOpenclose\">\n      <div class=\"guide-box\">\n        <div class=\"guide-box-tt\">热门搜索</div>\n        <div class=\"hot-tags\">\n          <el-tag effect=\"plain\" type=\"info\" v-for=\"(item, i) in searchHots\" :key=\"i\" @click=\"hotTagEvent\">\n            {{item.first}}</el-tag>\n        </div>\n        <div class=\"guide-box-tt\">历史搜索</div>\n        <div class=\"hot-tags\">\n          <el-tag effect=\"plain\" type=\"info\" v-for=\"(item, i) in historyTags\" :key=\"i\" @click=\"hotTagEvent\"\n            :closable=\"true\" @close=\"historyTagClose(item)\">{{item}}</el-tag>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n  import Home from './home/Home.vue'\n  import rankList from './list/Ranking.vue'\n  import songsRank from './songs/Rank.vue'\n  import NewMusic from './newmusic/Main.vue'\n\n  export default {\n    data() {\n      return {\n        searchHots: [],\n        searchOpenclose: false,\n        searchValue: '',\n        historyTags: [],\n        Components: '',\n        NewMusicComponents: ''\n      }\n    },\n    components: {\n      'm-ranklist': rankList,\n      'm-home': Home\n    },\n    methods: {\n      handleClick(tab, event) {\n        this.$store.commit('changeMainIndex', tab.name)\n        if (tab.name === 'fourth') {\n          this.Components = songsRank\n        } else if (tab.name.trim() === 'fifth') {\n          this.NewMusicComponents = NewMusic\n        }\n      },\n      // 搜索向导框\n      async searchGuide(el) {\n        this.$store.state.controlMsc.showList = false\n        const { data: res } = await this.$request.get('/search/hot')\n        this.searchHots = res.result.hots\n        const history = window.sessionStorage.getItem('searchHistory')\n        var arr = history === null ? [] : JSON.parse(history)\n        this.historyTags = arr\n        this.searchOpenclose = true\n        const guideBox = document.querySelector('.search-guide')\n        window.onclick = e => {\n          if (!guideBox.contains(e.target) && !el.target.contains(e.target)) {\n            this.searchOpenclose = false\n            window.onclick = null\n          }\n        }\n      },\n      // 搜索热词\n      hotTagEvent(e) {\n        this.searchValue = e.target.innerText.trim()\n        this.searchEvent()\n      },\n      // 搜索事件\n      searchEvent() {\n        if (this.searchValue.trim().length === 0) {\n          return this.$message.error('输入搜索内容为空！')\n        }\n        window.sessionStorage.setItem('searchValue', this.searchValue)\n        const history = window.sessionStorage.getItem('searchHistory')\n        var arr = history === null ? [] : JSON.parse(history)\n        if (!arr.includes(this.searchValue.trim())) {\n          if (arr.length < 10) {\n            arr.unshift(this.searchValue.trim())\n          } else {\n            arr.splice(9, 1)\n            arr.unshift(this.searchValue.trim())\n          }\n        }\n        window.sessionStorage.setItem('searchHistory', JSON.stringify(arr))\n        this.$router.push('searchlist')\n      },\n      // 历史搜索\n      historyTagClose(tag) {\n        this.historyTags.splice(this.historyTags.indexOf(tag), 1)\n        window.sessionStorage.setItem(\n          'searchHistory',\n          JSON.stringify(this.historyTags)\n        )\n      }\n    },\n    mounted() {\n      const mainIndex = this.$store.state.mainIndex\n      if (mainIndex === 'fourth') {\n        this.Components = songsRank\n      } else if (mainIndex === 'fifth') {\n        this.NewMusicComponents = NewMusic\n      }\n    }\n  }\n</script>\n<style lang=\"less\" scoped>\n  .applyScroll {\n    overflow: hidden scroll;\n    height: 480px;\n  }\n\n  .le-tab-demo {\n    width: 100%;\n    box-sizing: border-box;\n    border: 0;\n    height: 600px;\n    overflow: hidden;\n  }\n\n  .el-tabs__header {\n    background: #f4f4f4;\n  }\n\n  .search {\n    position: absolute;\n    width: 200px;\n    right: 0;\n    top: 0;\n    height: 36px;\n  }\n\n  .el-icon-search {\n    font-size: 18px;\n    position: absolute;\n    right: 30px;\n    top: 10px;\n    cursor: pointer;\n  }\n\n  .input-search {\n    position: absolute;\n    right: 20px;\n    top: 4px;\n    border-radius: 20px;\n    height: 26px;\n    border: 1px solid #f1f1f1;\n    outline: 0;\n    background: #ededed;\n    text-indent: 10px;\n  }\n\n  .el-tab-pane {\n    padding: 0 10px;\n  }\n\n  .search-guide {\n    height: 494px;\n    width: 340px;\n    background: #fff;\n    position: absolute;\n    z-index: 999;\n    top: 40px;\n    right: 0;\n    box-shadow: -6px 6px 6px rgba(0, 0, 0, 0.25);\n  }\n\n  .guide-box {\n    box-sizing: border-box;\n    padding: 8px 15px;\n  }\n\n  .guide-box-tt {\n    height: 40px;\n    line-height: 40px;\n    font-size: 14px;\n    color: rgba(0, 0, 0, 0.6);\n  }\n\n  .hot-tags .el-tag {\n    border-radius: 15px;\n    padding: 0 12px;\n    height: 26px;\n    line-height: 26px;\n    cursor: pointer;\n    margin-right: 10px;\n    margin-bottom: 8px;\n  }\n\n  .hot-tags .el-tag:hover {\n    background: #f1f1f1;\n  }\n</style>"]}]}
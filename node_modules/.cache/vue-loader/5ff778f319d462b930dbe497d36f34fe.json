{"remainingRequest":"C:\\Users\\74031\\Desktop\\新建文件夹 (4)\\vue_music-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\74031\\Desktop\\新建文件夹 (4)\\vue_music-master\\src\\components\\Music.vue?vue&type=style&index=0&id=06073fa5&lang=less&scoped=true&","dependencies":[{"path":"C:\\Users\\74031\\Desktop\\新建文件夹 (4)\\vue_music-master\\src\\components\\Music.vue","mtime":1605005389738},{"path":"C:\\Users\\74031\\Desktop\\新建文件夹 (4)\\vue_music-master\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\74031\\Desktop\\新建文件夹 (4)\\vue_music-master\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\74031\\Desktop\\新建文件夹 (4)\\vue_music-master\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\74031\\Desktop\\新建文件夹 (4)\\vue_music-master\\node_modules\\less-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\74031\\Desktop\\新建文件夹 (4)\\vue_music-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\74031\\Desktop\\新建文件夹 (4)\\vue_music-master\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgouYXBwbHlTY3JvbGwgewogIG92ZXJmbG93OiBoaWRkZW4gc2Nyb2xsOwogIGhlaWdodDogNDgwcHg7Cn0KCi5sZS10YWItZGVtbyB7CiAgd2lkdGg6IDEwMCU7CiAgYm94LXNpemluZzogYm9yZGVyLWJveDsKICBib3JkZXI6IDA7CiAgaGVpZ2h0OiA2MDBweDsKICBvdmVyZmxvdzogaGlkZGVuOwp9CgouZWwtdGFic19faGVhZGVyIHsKICBiYWNrZ3JvdW5kOiAjZjRmNGY0Owp9Cgouc2VhcmNoIHsKICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgd2lkdGg6IDIwMHB4OwogIHJpZ2h0OiAwOwogIHRvcDogMDsKICBoZWlnaHQ6IDM2cHg7Cn0KCi5lbC1pY29uLXNlYXJjaCB7CiAgZm9udC1zaXplOiAxOHB4OwogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICByaWdodDogMzBweDsKICB0b3A6IDEwcHg7CiAgY3Vyc29yOiBwb2ludGVyOwp9CgouaW5wdXQtc2VhcmNoIHsKICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgcmlnaHQ6IDIwcHg7CiAgdG9wOiA0cHg7CiAgYm9yZGVyLXJhZGl1czogMjBweDsKICBoZWlnaHQ6IDI2cHg7CiAgYm9yZGVyOiAxcHggc29saWQgI2YxZjFmMTsKICBvdXRsaW5lOiAwOwogIGJhY2tncm91bmQ6ICNlZGVkZWQ7CiAgdGV4dC1pbmRlbnQ6IDEwcHg7Cn0KCi5lbC10YWItcGFuZSB7CiAgcGFkZGluZzogMCAxMHB4Owp9Cgouc2VhcmNoLWd1aWRlIHsKICBoZWlnaHQ6IDQ5NHB4OwogIHdpZHRoOiAzNDBweDsKICBiYWNrZ3JvdW5kOiAjZmZmOwogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICB6LWluZGV4OiA5OTk7CiAgdG9wOiA0MHB4OwogIHJpZ2h0OiAwOwogIGJveC1zaGFkb3c6IC02cHggNnB4IDZweCByZ2JhKDAsIDAsIDAsIDAuMjUpOwp9CgouZ3VpZGUtYm94IHsKICBib3gtc2l6aW5nOiBib3JkZXItYm94OwogIHBhZGRpbmc6IDhweCAxNXB4Owp9CgouZ3VpZGUtYm94LXR0IHsKICBoZWlnaHQ6IDQwcHg7CiAgbGluZS1oZWlnaHQ6IDQwcHg7CiAgZm9udC1zaXplOiAxNHB4OwogIGNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuNik7Cn0KCi5ob3QtdGFncyAuZWwtdGFnIHsKICBib3JkZXItcmFkaXVzOiAxNXB4OwogIHBhZGRpbmc6IDAgMTJweDsKICBoZWlnaHQ6IDI2cHg7CiAgbGluZS1oZWlnaHQ6IDI2cHg7CiAgY3Vyc29yOiBwb2ludGVyOwogIG1hcmdpbi1yaWdodDogMTBweDsKICBtYXJnaW4tYm90dG9tOiA4cHg7Cn0KCi5ob3QtdGFncyAuZWwtdGFnOmhvdmVyIHsKICBiYWNrZ3JvdW5kOiAjZjFmMWYxOwp9Cg=="},{"version":3,"sources":["Music.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmIA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"Music.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div>\r\n    <el-tabs v-model=\"$store.state.mainIndex\" @tab-click=\"handleClick\" class=\"le-tab-demo\">\r\n      <el-tab-pane label=\"个性推荐\" name=\"first\" class=\"applyScroll\">\r\n        <m-home></m-home>\r\n      </el-tab-pane>\r\n      <el-tab-pane label=\"排行榜\" name=\"third\" class=\"applyScroll\">\r\n        <m-ranklist></m-ranklist>\r\n      </el-tab-pane>\r\n      <el-tab-pane label=\"歌手\" name=\"fourth\" style=\"overflow: hidden!important\">\r\n        <div :is=\"Components\"></div>\r\n      </el-tab-pane>\r\n      <el-tab-pane label=\"最新歌曲\" name=\"fifth\">\r\n        <div :is=\"NewMusicComponents\"></div>\r\n      </el-tab-pane>\r\n    </el-tabs>\r\n    \r\n    <!-- 搜索框 -->\r\n    <div class=\"search\">\r\n      <input type=\"text\" class=\"input-search\" @focus=\"searchGuide\" v-model=\"searchValue\" @keyup.enter=\"searchEvent\" />\r\n      <i class=\"el-icon-search\" @click=\"searchEvent\"></i>\r\n    </div>\r\n    <!-- 搜索向导 -->\r\n    <div class=\"search-guide\" v-show=\"searchOpenclose\">\r\n      <div class=\"guide-box\">\r\n        <!-- <div class=\"guide-box-tt\">热门搜索</div>\r\n        <div class=\"hot-tags\">\r\n          <el-tag effect=\"plain\" type=\"info\" v-for=\"(item, i) in searchHots\" :key=\"i\" @click=\"hotTagEvent\">\r\n            {{item.first}}</el-tag>\r\n        </div> -->\r\n        <div class=\"guide-box-tt\">历史搜索</div>\r\n        <div class=\"hot-tags\">\r\n          <el-tag effect=\"plain\" type=\"info\" v-for=\"(item, i) in historyTags\" :key=\"i\" @click=\"hotTagEvent\"\r\n            :closable=\"true\" @close=\"historyTagClose(item)\">{{item}}</el-tag>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import Home from './home/Home.vue'\r\n  import rankList from './list/Ranking.vue'\r\n  import songsRank from './songs/Rank.vue'\r\n  import NewMusic from './newmusic/Main.vue'\r\n\r\n  export default {\r\n    data() {\r\n      return {\r\n        searchHots: [],\r\n        searchOpenclose: false,\r\n        searchValue: '',\r\n        historyTags: [],\r\n        Components: '',\r\n        NewMusicComponents: ''\r\n      }\r\n    },\r\n    components: {\r\n      'm-ranklist': rankList,\r\n      'm-home': Home\r\n    },\r\n    methods: {\r\n      handleClick(tab, event) {\r\n        this.$store.commit('changeMainIndex', tab.name)\r\n        if (tab.name === 'fourth') {\r\n          this.Components = songsRank\r\n        } else if (tab.name.trim() === 'fifth') {\r\n          this.NewMusicComponents = NewMusic\r\n        }\r\n      },\r\n      // 搜索向导框\r\n      async searchGuide(el) {\r\n        this.$store.state.controlMsc.showList = false\r\n        const { data: res } = await this.$request.get('/search/hot')\r\n        this.searchHots = res.result.hots\r\n        const history = window.sessionStorage.getItem('searchHistory')\r\n        var arr = history === null ? [] : JSON.parse(history)\r\n        this.historyTags = arr\r\n        this.searchOpenclose = true\r\n        const guideBox = document.querySelector('.search-guide')\r\n        window.onclick = e => {\r\n          if (!guideBox.contains(e.target) && !el.target.contains(e.target)) {\r\n            this.searchOpenclose = false\r\n            window.onclick = null\r\n          }\r\n        }\r\n      },\r\n      // 搜索热词\r\n      hotTagEvent(e) {\r\n        this.searchValue = e.target.innerText.trim()\r\n        this.searchEvent()\r\n      },\r\n      // 搜索事件\r\n      searchEvent() {\r\n        if (this.searchValue.trim().length === 0) {\r\n          return this.$message.error('输入搜索内容为空！')\r\n        }\r\n        window.sessionStorage.setItem('searchValue', this.searchValue)\r\n        const history = window.sessionStorage.getItem('searchHistory')\r\n        var arr = history === null ? [] : JSON.parse(history)\r\n        if (!arr.includes(this.searchValue.trim())) {\r\n          if (arr.length < 10) {\r\n            arr.unshift(this.searchValue.trim())\r\n          } else {\r\n            arr.splice(9, 1)\r\n            arr.unshift(this.searchValue.trim())\r\n          }\r\n        }\r\n        window.sessionStorage.setItem('searchHistory', JSON.stringify(arr))\r\n        this.$router.push('searchlist')\r\n      },\r\n      // 历史搜索\r\n      historyTagClose(tag) {\r\n        this.historyTags.splice(this.historyTags.indexOf(tag), 1)\r\n        window.sessionStorage.setItem(\r\n          'searchHistory',\r\n          JSON.stringify(this.historyTags)\r\n        )\r\n      }\r\n    },\r\n    mounted() {\r\n      const mainIndex = this.$store.state.mainIndex\r\n      if (mainIndex === 'fourth') {\r\n        this.Components = songsRank\r\n      } else if (mainIndex === 'fifth') {\r\n        this.NewMusicComponents = NewMusic\r\n      }\r\n    }\r\n  }\r\n</script>\r\n<style lang=\"less\" scoped>\r\n  .applyScroll {\r\n    overflow: hidden scroll;\r\n    height: 480px;\r\n  }\r\n\r\n  .le-tab-demo {\r\n    width: 100%;\r\n    box-sizing: border-box;\r\n    border: 0;\r\n    height: 600px;\r\n    overflow: hidden;\r\n  }\r\n\r\n  .el-tabs__header {\r\n    background: #f4f4f4;\r\n  }\r\n\r\n  .search {\r\n    position: absolute;\r\n    width: 200px;\r\n    right: 0;\r\n    top: 0;\r\n    height: 36px;\r\n  }\r\n\r\n  .el-icon-search {\r\n    font-size: 18px;\r\n    position: absolute;\r\n    right: 30px;\r\n    top: 10px;\r\n    cursor: pointer;\r\n  }\r\n\r\n  .input-search {\r\n    position: absolute;\r\n    right: 20px;\r\n    top: 4px;\r\n    border-radius: 20px;\r\n    height: 26px;\r\n    border: 1px solid #f1f1f1;\r\n    outline: 0;\r\n    background: #ededed;\r\n    text-indent: 10px;\r\n  }\r\n\r\n  .el-tab-pane {\r\n    padding: 0 10px;\r\n  }\r\n\r\n  .search-guide {\r\n    height: 494px;\r\n    width: 340px;\r\n    background: #fff;\r\n    position: absolute;\r\n    z-index: 999;\r\n    top: 40px;\r\n    right: 0;\r\n    box-shadow: -6px 6px 6px rgba(0, 0, 0, 0.25);\r\n  }\r\n\r\n  .guide-box {\r\n    box-sizing: border-box;\r\n    padding: 8px 15px;\r\n  }\r\n\r\n  .guide-box-tt {\r\n    height: 40px;\r\n    line-height: 40px;\r\n    font-size: 14px;\r\n    color: rgba(0, 0, 0, 0.6);\r\n  }\r\n\r\n  .hot-tags .el-tag {\r\n    border-radius: 15px;\r\n    padding: 0 12px;\r\n    height: 26px;\r\n    line-height: 26px;\r\n    cursor: pointer;\r\n    margin-right: 10px;\r\n    margin-bottom: 8px;\r\n  }\r\n\r\n  .hot-tags .el-tag:hover {\r\n    background: #f1f1f1;\r\n  }\r\n</style>"]}]}